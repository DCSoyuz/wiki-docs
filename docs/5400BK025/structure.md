---
id: mk025-structure
title: Состав, карта памяти
sidebar_label: Состав, карта памяти
sidebar_position: 4
---

<div className="doc-image-container">
<figure>
  <img src="/img/5400ВК025/main/блок-схема.svg" alt="блок схема" />
  <figcaption  className="doc-image-container__image-title">Блок схема 5400ВК025 </figcaption>
</figure>
</div>

## Состав микроконтроллера

### Системные устройства:

- CPU_8051 – процессорное ядро;
- TAP (Test Access Port) – автомат JTAG;
- TDR (Test Data Register) – регистры данных JTAG;
- MUX – мультиплексор;
- ANALOG_CFG_MEM – конфигурационная память;
- ROM_OTP (One-Time Programmable) – однократно программируемое постоянное запоминающее устройство емкостью 4032 Б, память программ устройства;
- RAM_256B – оперативное запоминающее устройство для хранения промежуточных данных, память данных устройства;
- SWITCH – модуль, разграничивающий доступ к ROM_OTP_4B, RAM;
- SWITCH JTAG/CPU – модуль, разграничивающий доступ к шине для JTAG, либо для CPU;
- PMM (Power Management Module) – модуль управления сбросом системы;
- POR (Power-On Reset) – модуль сброса при включении питания;
- RC_F– высокочастотный RC-генератор;
- RC_S – низкочастотный RC-генератор;
- CMM (Clock Management Module) – модуль регистров системы управления тактовой частоты устройства;
- DEBUGGER – отладчик;
- V_REF – источник опорного напряжения (ИОН);
- GEN1qv – генератор на основе кварцевого резонатора;
- LDO_15V –> 5V, LDO_5V –> 1V8, LDO_15V –> 8.5V – линейные регуляторы напряжения.

### Периферийные устройства:

- UART – контроллер интерфейса UART;
- GPIO – контроллер портов ввода-вывода;
- TIMER0, TIMER1, TIMER2 – универсальные таймеры;
- WDT – сторожевой таймер;
- WORK_FSM – рабочий автомат;
- INT_CTRL – контроллер прерываний.

| № вывода | Наименование вывода | Альтернативная функция | Пояснение                                                                             |
| -------- | ------------------- | ---------------------- | ------------------------------------------------------------------------------------- |
| 5        | GPIO&lt;0&gt;       | I_TIMER0_EXT           | Порт ввода-вывода микроконтроллера, разряд №0: TIMER0 – I_TIMER0_EXT (вход)           |
| 4        | GPIO&lt;1&gt;       | I_TIMER1_EXT           | Порт ввода-вывода микроконтроллера, разряд №1: TIMER1 – I_TIMER1_EXT (вход)           |
| 3        | GPIO&lt;2&gt;       | I_TIMER2_EXT           | Порт ввода-вывода микроконтроллера, разряд №2: TIMER2 – I_TIMER2_EXT (вход)           |
| 2        | GPIO&lt;3&gt;       | O_SLEEP                | Порт ввода-вывода микроконтроллера, разряд №3: режим «Глубокий сон» – O_SLEEP (выход) |
| 27       | GPIO&lt;4&gt;       | UART_TX                | Порт ввода-вывода микроконтроллера, разряд №4: UART – TX (выход)                      |
| 26       | GPIO&lt;5&gt;       | UART_RX                | Порт ввода-вывода микроконтроллера, разряд №5: UART – RX (вход)                       |
| 25       | GPIO&lt;6&gt;       | CTS_n_UART             | Порт ввода-вывода микроконтроллера, разряд №6: UART – CTS (вход)                      |
| 24       | GPIO&lt;7&gt;       | RTS_n_UART             | Порт ввода-вывода микроконтроллера, разряд №7: UART – RTS (выход)                     |

Для сокращения выводов порты JTAG (TCK, TDI, TMS, TDO) мультиплексируются с портами GPIO. Выбор осуществляется выводом TM.

| GPIO (при TM = 0) | JTAG (при TM = 1) |
| ----------------- | ----------------- |
| GPIO&lt;0&gt;     | TCK               |
| GPIO&lt;1&gt;>    | TMS               |
| GPIO&lt;2&gt;     | TDI               |
| GPIO&lt;3&gt;     | TDO               |

## Карта памяти

Адресное пространство памяти программ и данных разделено. В данное адресное пространство отображаются различные модули памяти и периферии.

<table className="table">
<tbody>

<tr>
    <th>№</th>
    <th>Выделенное пространство</th>
    <th>Зона</th>
    <th >Аббревиатура</th>
    <th >Описание</th>
  </tr>

  <tr>
    <td >0000h</td>
    <td >4 КБ</td>
    <td >ПЗУ</td>
    <td >ROM</td>
    <td >ПЗУ</td>
  </tr>
  <tr>
    <td >0000h</td>
    <td >256 Б</td>
    <td rowSpan={14}>ОЗУ</td>
    <td >RAM</td>
    <td >ОЗУ</td>
  </tr>
  <tr>
    <td >2000h</td>
    <td >256 Б</td>
    <td >PMM</td>
    <td >Подсистема управления электропитанием</td>
  </tr>
    <tr>
    <td >2100h</td>
    <td >32 Б</td>
    <td >CMM</td>
    <td >Подсистема управления тактированием </td>
  </tr>
      <tr>
    <td >2200h</td>
    <td >256 Б</td>
    <td >WDT</td>
    <td >Сторожевой таймер </td>
  </tr>
      <tr>
    <td >2300h</td>
    <td >256 Б</td>
    <td >GPIO </td>
    <td >Универсальный порт ввода-вывода</td>
  </tr>

   <tr>
    <td >2400h</td>
    <td >256 Б</td>
    <td >UART</td>
    <td >Интерфейс UART</td>
  </tr>
   <tr>
    <td >2500h</td>
    <td >256 Б</td>
    <td >ROM 64 Б</td>
    <td >Постоянная память данных, 64 Б</td>
  </tr>

   <tr>
    <td >2600h</td>
    <td >256 Б</td>
    <td >WORK_FSM</td>
    <td >Рабочий автомат</td>
  </tr>
    <tr>
    <td >2700h</td>
    <td >32 Б</td>
    <td >TIMER0</td>
    <td rowSpan={3}>Таймеры </td>
  </tr>
      <tr>
    <td >2720h</td>
    <td >32 Б</td>
    <td >TIMER1</td>
  </tr>
      <tr>
    <td >2740h</td>
    <td >32 Б</td>
    <td >TIMER2</td>
  </tr>
        <tr>
    <td >2800h</td>
    <td >256 Б</td>
    <td >INT_CTRL</td>
    <td >Контроллер прерываний </td>
  </tr>
        <tr>
    <td >2900h</td>
    <td >64 Б</td>
    <td >DEBUGGER</td>
    <td >Отладчик </td>
  </tr>
        <tr>
    <td >2А00h</td>
    <td >8 Б</td>
    <td >ANALOG_CFG</td>
    <td >Конфигурационная память аналоговых блоков</td>
  </tr>
  </tbody>
</table>

Если CPU обратится по адресу вне выделенного пространства, то при чтении будут приняты нулевые данные, запись не будет иметь никакого эффекта.
